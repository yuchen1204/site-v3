<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>博客文章</title> <!-- Title will be updated dynamically -->
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- Maple Mono CN Font -->
    <link rel='stylesheet' href='https://chinese-fonts-cdn.deno.dev/packages/maple-mono-cn/dist/MapleMono-CN-SemiBold/result.css' />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/styles/main.css"> <!-- Reuse main styles -->
    <link rel="stylesheet" href="/styles/post.css"> <!-- Add specific post styles -->
    <!-- Marked.js for Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- DOMPurify for sanitizing HTML -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.11/dist/purify.min.js"></script>
</head>
<body data-bs-theme="light"> <!-- Default to light, theme handled by main.js logic if included -->

    <!-- Simple Header (Optional) -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top shadow-sm mb-4">
        <div class="container">
            <a class="navbar-brand" href="/">
                 <i class="bi bi-house-door-fill"></i> 返回主页
            </a>
            <!-- Maybe add theme toggle here if needed independently -->
             <button id="theme-toggle-post" class="btn btn-sm theme-toggle-btn" aria-label="切换主题">
                <i class="bi bi-brightness-high-fill"></i>
             </button>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <!-- Post Loading Indicator -->
                <div id="post-loading" class="text-center my-5">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">加载中...</span>
                    </div>
                </div>

                <!-- Post Content Area -->
                <article id="post-content-area" style="display: none;">
                    <header class="mb-4">
                        <h1 id="post-title" class="mb-3"></h1>
                        <div class="text-muted mb-2">
                            <span id="post-category" class="badge bg-secondary me-2"></span>
                            <i class="bi bi-calendar-event me-1"></i> <span id="post-date"></span>
                        </div>
                    </header>
                    
                    <section id="post-body" class="post-body mb-5">
                        <!-- Post content rendered here -->
                    </section>

                    <!-- Attachments Section (Optional) -->
                    <section id="post-attachments" class="mb-4" style="display: none;">
                        <h5 class="border-bottom pb-2 mb-3">附件</h5>
                        <ul id="post-attachments-list" class="list-unstyled"></ul>
                    </section>

                    <!-- References Section (Optional) -->
                     <section id="post-references" class="mb-4" style="display: none;">
                        <h5 class="border-bottom pb-2 mb-3">相关文章</h5>
                        <ul id="post-references-list" class="list-unstyled"></ul>
                    </section>

                    <!-- Share Buttons (Optional) -->
                    <section id="post-share" class="mt-5 text-center">
                         <h5 class="mb-3">分享文章</h5>
                         <!-- Add basic share links -->
                         <a id="share-link-copy" href="#" class="btn btn-outline-secondary btn-sm me-2" title="复制链接"><i class="bi bi-clipboard"></i> 复制链接</a>
                         <!-- Add more social share buttons as needed -->
                    </section>

                </article>

                 <!-- Post Error Display -->
                <div id="post-error" class="alert alert-danger text-center my-5" style="display: none;">
                    加载文章时出错。
                </div>
            </div>
        </div>
    </main>

    <!-- Simple Footer (Optional) -->
    <footer class="text-center text-muted py-4 mt-5">
        <small>&copy; <span id="current-year"></span> Your Name</small>
    </footer>

    <!-- Bootstrap JS Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS for post page -->
    <script src="/scripts/post.js"></script>
    <!-- Include theme toggle logic (can be a separate small script or part of post.js) -->
     <script>
        // Basic Theme Toggle Logic for post page
        const themeToggleButtonPost = document.getElementById('theme-toggle-post');
        const currentThemePost = localStorage.getItem('theme') || 'light';
        document.body.setAttribute('data-bs-theme', currentThemePost);

        if (themeToggleButtonPost) {
            themeToggleButtonPost.addEventListener('click', () => {
                let newTheme = document.body.getAttribute('data-bs-theme') === 'light' ? 'dark' : 'light';
                document.body.setAttribute('data-bs-theme', newTheme);
                localStorage.setItem('theme', newTheme);
            });
        }
         document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>
</body>
</html> 